export function matches(checker, options) {
    return (value) => {
        const valid = checker(value);
        if (!valid && !value) {
            return unmatched(value, 'empty-token', options);
        }
        return valid ? matched() : unmatched(value, options?.reason, options);
    };
}
export function matched() {
    return {
        matched: true,
    };
}
export function unmatched(value, reason, options) {
    return {
        ...options,
        matched: false,
        ref: options?.ref ?? null,
        raw: value,
        offset: 0,
        length: value.length,
        line: 1,
        column: 1,
        reason: reason ?? 'syntax-error',
    };
}
